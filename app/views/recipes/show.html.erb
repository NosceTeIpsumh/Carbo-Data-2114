<% content_for :navabr_text_label, "Back" %>
<% content_for :navbar_text_path, recipes_path %>

<div class="container">
  <div class="card shadow-sm rounded-5 my-4 p-4">
    <div class="text-center pt-1 pb-3">
      <h1 class="display-5 fw-bold h-default mb-2 mt-2">
        <%= @recipe.name %>
      </h1>
    </div>

    <div class="card-body">
      <% if @recipe.description.present? %>
        <div class="mb-4">
          <h3 class="h-default mb-3">Description</h3>
          <p class="p-default"><%= @recipe.description %></p>
        </div>
      <% end %>

      <div class="row mb-4">
        <div class="col-md-4">
          <div class="card p-3 text-center">
            <p class="mb-1 p-default"><strong>Glycemic Index</strong></p>
            <h4 class="h-default"><%= @recipe.indice_gly %></h4>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card p-3 text-center">
            <p class="mb-1 p-default"><strong>Carbs</strong></p>
            <h4 class="h-default"><%= @recipe.ratio_glucide %>g/100g</h4>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card p-3 text-center">
            <p class="mb-1 p-default"><strong>Difficulty</strong></p>
            <h4 class="h-default"><%= @recipe.difficulty %>/5</h4>
          </div>
        </div>
      </div>

      <% if @recipe.steps.present? %>
        <div class="mb-4">
          <h3 class="h-default mb-3">Steps</h3>
          <div class="p-default">
            <%= simple_format(@recipe.steps, {}, sanitize: false) %>
          </div>
        </div>
      <% end %>

      <div class="mt-4">
        <%= link_to edit_recipe_path(@recipe), class: "d-inline-block text-decoration-none me-2" do %>
          <div class="btn btn-primary rounded-5">
            Edit this recipe
          </div>
        <% end %>

        <%= link_to recipe_path(@recipe),
            data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this recipe?" },
            class: "d-inline-block text-decoration-none" do %>
          <div class="btn btn-danger rounded-5">
            Delete
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
